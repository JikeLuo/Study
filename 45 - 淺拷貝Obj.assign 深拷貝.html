<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    console.log('=========shallow copy=========')

    /**
     * 淺拷貝:
     * 共用一個數據地址
     * 如果附值給某一個，會一起影響
     * */
    var oldObj = {
        id: 1,
        name: 'Mr Wong',
        age: 25,
    }

    var newObj = oldObj;
    newObj.name = 'Ms Benks';
    console.log('這是new: ' + newObj.name)
    console.log('這是old: ' + oldObj.name)

    var brandnewObj = {};
    Object.assign(brandnewObj, oldObj);
    console.log(brandnewObj)

    console.log('=========deep copy=========')
    /**
     * 深拷貝:
     * 不共用一個地址，所以需要創建另一個地址
     * */
    var oldObj1 = {
        id: 1,
        name: 'Mark',
        age: [30, 20, 15],
        habbit: {
            outdoor: 'hiking',
            indoor: 'cooking',
        }
    }

    var newObj1 = {};




    function deepCopy(newObj, oldObj) {
        for (let k in oldObj) {
            // 在新對象或數列新增空值
            // 舊數據附值給新數據
            var item = oldObj[k];

            if (item instanceof Array) {
                newObj[k] = [];
                deepCopy(newObj[k], item);
            } else if (item instanceof Object) {
                newObj[k] = {};
                deepCopy(newObj[k], item);
            } else {
                newObj[k] = item;
            }
        }
    }

    deepCopy(newObj1, oldObj1);
    newObj1.id = 2;
    console.log(newObj1)
    console.log(oldObj1)


</script>

</body>
</html>